
//global_levels;

function login(){
  var login_password = $("#login_password").val();
  var encrypted_container = "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";
  //var encrypted_container = global_container;
  var decrypted_container = decrypt(encrypted_container, login_password);
  console.log(decrypted_container);
  if(decrypted_container.encrypted){
    $("#login").hide();
    levels = decrypted_container.level;
    global_levels = levels;
    nextLevel(levels, 0, login_password);
  }
}

function nextLevel(levels, id, password) {
  //add new content
  var decrypted_level = decrypt(levels[id], password);
  console.log("decrypted_level", decrypted_level);
  if(decrypted_level.encrypted){
      $("#questions").html(decrypted_level.content);
  }
}

function solve(id) {
  if(id == 0){
    return login();
  }
  var password = $("#solution").val().toLowerCase();
  nextLevel(levels, id, password);
}

function decrypt(cipher, password){
  var bytes  = CryptoJS.AES.decrypt(cipher, password);
  return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));
}

function encrypt(obj, password){
  return CryptoJS.AES.encrypt(JSON.stringify(obj), password).toString();
}

function pressEnter(){

}
